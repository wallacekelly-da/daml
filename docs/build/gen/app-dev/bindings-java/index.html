<!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Java bindings &mdash; Daml SDK __VERSION__ documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
  
  <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
  <script type="text/javascript" src="../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../_static/underscore.js"></script>
  <script type="text/javascript" src="../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../_static/language_data.js"></script>
  <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
  <script type="text/javascript" src="../../_static/copybutton.js"></script>
  
  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <link rel="index" title="Index" href="../../genindex.html" />
  <link rel="search" title="Search" href="../../search.html" />
  <link rel="next" title="Generate Java code from Daml" href="codegen.html" />
  <link rel="prev" title="How Daml types are translated to Daml-LF" href="../daml-lf-translation.html" /> 

  
  <link rel="icon" type="image/svg+xml"  href="../../_static/images/daml-logo-mark-light.svg">
  <link rel="alternate icon" href="../../_static/images/daml-favicon-1.ico">

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-MSWJMNX');</script>
  <!-- End Google Tag Manager -->

  
  <!-- Mopinion Pastea.se  start --><script type="text/javascript">(function(){var id="4s6vwov7ad6qyxhq8iwbyhocrsn2nm36k25";var js=document.createElement("script");js.setAttribute("type","text/javascript");js.setAttribute("src","//deploy.mopinion.com/js/pastease.js");js.async=true;document.getElementsByTagName("head")[0].appendChild(js);var t=setInterval(function(){try{new Pastease.load(id);clearInterval(t)}catch(e){}},50)})();</script><!-- Mopinion Pastea.se end -->
</head>

<body class="wy-body-for-nav">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MSWJMNX"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-nav-side-shadow"></div>
      <div class="wy-side-scroll">

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
          
          
          
          
          
          <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Daml Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/installation.html">Installing the SDK</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/path-variables.html">Setting JAVA_HOME and PATH variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/manual-download.html">Manually installing the SDK</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/index.html">Building Your App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/app-architecture.html">App Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/first-feature.html">Your First Feature</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.daml.com/cheat-sheet">Cheat Sheet</a></li>
</ul>
<p class="caption"><span class="caption-text">Writing Daml</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../daml/intro/0_Intro.html">An introduction to Daml</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/1_Token.html">1 Basic contracts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/2_DamlScript.html">2 Testing templates using Daml Script</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/3_Data.html">3 Data types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/4_Transformations.html">4 Transforming data using choices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/5_Restrictions.html">5 Adding constraints to a contract</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/6_Parties.html">6 Parties and authority</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/7_Composing.html">7 Composing choices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/8_Exceptions.html">8 Exception Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/9_Dependencies.html">9 Working with Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/10_Functional101.html">10 Functional Programming 101</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/11_StdLib.html">11 Intro to the Daml Standard Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/12_Testing.html">12 Testing Daml Contracts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../daml/reference/index.html">Language reference docs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/structure.html">Overview: template structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/templates.html">Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/choices.html">Choices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/updates.html">Updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/data-types.html">Data types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/working-with.html">Built-in functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/expressions.html">Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/functions.html">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/scenarios.html">Scenarios</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/file-structure.html">File structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/packages.html">Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/contract-keys.html">Contract keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/exceptions.html">Exceptions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../daml/troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../daml/patterns.html">Good design patterns</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../daml/patterns/initaccept.html">Initiate and Accept</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/patterns/multiparty-agreement.html">Multiple party agreement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/patterns/delegation.html">Delegation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/patterns/authorization.html">Authorization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/patterns/locking.html">Locking</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../daml/patterns/locking/locking-by-archiving.html">Locking by archiving</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../daml/patterns/locking/locking-by-state.html">Locking by state</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../daml/patterns/locking/locking-by-safekeeping.html">Locking by safekeeping</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/patterns/legends.html">Diagram legends</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Building applications</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../app-arch.html">Application architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bindings-ts/index.html">JavaScript Client Libraries</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../bindings-ts/daml2js.html">JavaScript Code Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bindings-ts/daml-react.html">&#64;daml/react</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bindings-ts/daml-ledger.html">&#64;daml/ledger</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bindings-ts/daml-types.html">&#64;daml/types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bindings-ts/testing.html">Testing Your Web App</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../json-api/index.html">HTTP JSON API Service</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../json-api/lf-value-specification.html">Daml-LF JSON Encoding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../json-api/search-query-language.html">Query language</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../json-api/production-setup.html">Production Setup</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../daml-script/index.html">Daml Script</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../daml-repl/index.html">Daml REPL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../upgrade/index.html">Upgrading and Extending Daml applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../upgrade/extend.html">Extending Daml applications</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../upgrade/upgrade.html">Upgrading Daml applications</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../upgrade/automation.html">Automating the Upgrade Process</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../authorization.html">Authorization</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../ledger-api.html">The Ledger API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../services.html">The Ledger API services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grpc/index.html">gRPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grpc/daml-to-ledger-api.html">How Daml types are translated to protobuf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml-lf-translation.html">How Daml types are translated to Daml-LF</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Java bindings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="codegen.html">Generate Java code from Daml</a></li>
<li class="toctree-l3"><a class="reference internal" href="example.html">Ping Pong Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html">Iou Quickstart Tutorial</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bindings-scala/index.html">Scala bindings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bindings-js.html">Node.js bindings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bindings-x-lang/index.html">Creating your own bindings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../triggers/index.html">Daml Triggers - Off-Ledger Automation in Daml</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/trigger-service/index.html">Trigger Service</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/trigger-service/authorization.html">Authorization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/trigger-service/auth0_example.html">Auth0 Example Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/auth-middleware/index.html">Auth Middleware</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/auth-middleware/oauth2.html">OAuth 2.0 Auth Middleware</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../error-codes/self-service/index.html">Self-Service Error Codes (Experimental)</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../error-codes/self-service/index.html#self-service-error-codes-migration-guide">Self-Service Error Codes Migration Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Deploying to Daml ledgers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../deploy/index.html">Overview of Daml ledgers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploy/generic_ledger.html">Deploying to a generic Daml ledger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploy/ledger-topologies.html">Daml Ledger Topologies</a></li>
</ul>
<p class="caption"><span class="caption-text">Operating Daml</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ops/index.html">Daml Participant pruning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ops/connect/index.html">Operating Daml Connect</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ops/connect/helm.html">Connect Helm Chart</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ops/connect/auth0.html">Setting Up Auth0</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Developer Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tools/assistant.html">Daml Assistant (<code class="docutils literal notranslate"><span class="pre">daml</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../daml/daml-studio.html">Daml Studio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/sandbox.html">Daml Sandbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/navigator/index.html">Navigator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/codegen.html">Daml codegen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/profiler.html">Daml Profiler</a></li>
</ul>
<p class="caption"><span class="caption-text">Background concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/glossary.html">Glossary of concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/ledger-model/index.html">Daml Ledger Model</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/ledger-model/ledger-structure.html">Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/ledger-model/ledger-integrity.html">Integrity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/ledger-model/ledger-privacy.html">Privacy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/ledger-model/ledger-daml.html">Daml: Defining Contract Models Compactly</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/ledger-model/ledger-exceptions.html">Exceptions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/identity-and-package-management.html">Identity and Package Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/time.html">Time</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/local-ledger.html">Causality and Local Ledgers</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://daml.com/examples">Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Early Access Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tools/extractor.html">Extractor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/export/index.html">Ledger Export</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../daml-integration-kit/index.html">Daml Integration Kit</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/ledger-api-test-tool/index.html">Ledger API Test Tool</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/visual.html">Visualizing Daml Contracts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/interoperability.html">Ledger Interoperability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/non-repudiation.html">Non-repudiation</a></li>
</ul>
<p class="caption"><span class="caption-text">Daml Ecosystem</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../support/overview.html">Daml Ecosystem Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../support/status-definitions.html">Status Definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../support/component-statuses.html">Feature and Component Statuses</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../support/releases.html">Releases and Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support/compatibility.html">Portability, Compatibility, and Support Durations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support/support.html">Getting Help</a></li>
</ul>

          
          
          
          <div class="pdf-download"><a href="../../_downloads/DigitalAssetSDK.pdf" download>Download as PDF</a></div>
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <div class="topbar fixed">
        
        <nav class="wy-nav-top" aria-label="top navigation">
          
          <i data-toggle="wy-nav-top" class="wy-nav-top-toggle"></i>
          
        </nav>
        <!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<div class="navbar">
    <h1><img src="../../_static/images/DAML_Logo_Blue.svg"></h1>
    <div class="navbar-menu">
        <div class="da-menu-item da-menu-depth-1" role="menu">
            <a href="https://www.daml.com/" role="menuitem" class="da-menu-link">Developers</a>
        </div>
        <div class="da-menu-item da-menu-depth-1" role="menu">
            <a href="https://www.digitalasset.com/products" role="menuitem" class="da-menu-link">Products</a>
        </div>
        <div class="da-menu-item da-menu-depth-1" role="menu">
            <a href="https://www.digitalasset.com" role="menuitem" class="da-menu-link">Company</a>
        </div>
    </div>
</div>

        <div class="version ">
          <span class="hide-mobile">Version&nbsp;</span><span class="version_switcher_placeholder"></span>
          
        </div>


        <!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->
<div class="search-inline">
    <div id="rtd-search-inline-form" class="wy-form">
        <input type="text" class="search-inline-input" placeholder="Search" name="q">
        <img src="../../_static/images/Search.svg" class="search-inline-img"/>
    </div>
    <div class="search-alert">
        Please enter at least 3 letters.
    </div>
    <div id="search-inline-results" class="search-inline-results">
        
    </div>
</div>
          <!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<div class="content-menu collapsed">
    <span class="content-menu-title">In This Section</span>
    <span class="content-menu-expand"></span>
    <div class="content-menu-wrapper">
        
        <!-- Local TOC -->
        <div class="content-menu-toc"><ul>
<li><a class="reference internal" href="#">Java bindings</a><ul>
<li><a class="reference internal" href="#overview">Overview</a><ul>
<li><a class="reference internal" href="#code-generation">Code generation</a></li>
<li><a class="reference internal" href="#connecting-to-the-ledger-ledgerclient">Connecting to the ledger: LedgerClient</a></li>
</ul>
</li>
<li><a class="reference internal" href="#reference-documentation">Reference documentation</a></li>
<li><a class="reference internal" href="#getting-started">Getting started</a><ul>
<li><a class="reference internal" href="#set-up-a-maven-project">Set up a Maven project</a></li>
<li><a class="reference internal" href="#connecting-to-the-ledger">Connecting to the ledger</a></li>
<li><a class="reference internal" href="#authorizing">Authorizing</a></li>
<li><a class="reference internal" href="#connecting-securely">Connecting securely</a></li>
<li><a class="reference internal" href="#advanced-connection-settings">Advanced connection settings</a></li>
<li><a class="reference internal" href="#reactive-components">Reactive Components</a><ul>
<li><a class="reference internal" href="#accessing-data-on-the-ledger-ledgerview">Accessing data on the ledger: LedgerView</a></li>
<li><a class="reference internal" href="#writing-automations-bot">Writing automations: Bot</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#example-project">Example project</a></li>
</ul>
</li>
</ul>
</div>
        
    </div>
</div>
        

      </div>
      <div class="wy-nav-content">
        
        <div class="rst-content">
          
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div itemprop="articleBody">
                
  <div class="section" id="java-bindings">
<span id="id1"></span><h1>Java bindings<a class="headerlink" href="#java-bindings" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>The Java bindings is a client implementation of the <em>Ledger API</em>
based on <a class="reference external" href="https://github.com/ReactiveX/RxJava">RxJava</a>, a library for composing asynchronous and event-based programs using observable sequences for the Java VM. It provides an idiomatic way to write Daml Ledger applications.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">This documentation for the Java bindings API includes the <a class="reference external" href="javadocs/index.html">JavaDoc reference documentation</a>.</p>
</div>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The Java bindings library is composed of:</p>
<ul>
<li><dl class="first docutils">
<dt>The Data Layer</dt>
<dd><p class="first">A Java-idiomatic layer based on the Ledger API generated classes.
This layer simplifies the code required to work with the Ledger API.</p>
<p class="last">Can be found in the java package <code class="docutils literal notranslate"><span class="pre">com.daml.ledger.javaapi.data</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>The Reactive Layer</dt>
<dd><p class="first">A thin layer built on top of the Ledger API services generated classes.</p>
<p>For each Ledger API service, there is a reactive counterpart with a
matching name. For instance, the reactive counterpart of <code class="docutils literal notranslate"><span class="pre">ActiveContractsServiceGrpc</span></code>
is <code class="docutils literal notranslate"><span class="pre">ActiveContractsClient</span></code>.</p>
<p>The Reactive Layer also exposes the main interface representing a client
connecting via the Ledger API. This interface is called <code class="docutils literal notranslate"><span class="pre">LedgerClient</span></code> and the
main implementation working against a Daml Ledger is the <code class="docutils literal notranslate"><span class="pre">DamlLedgerClient</span></code>.</p>
<p class="last">Can be found in the java package <code class="docutils literal notranslate"><span class="pre">com.daml.ledger.rxjava</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>The Reactive Components</dt>
<dd><p class="first">A set of optional components you can use to assemble Daml Ledger applications. These components are deprecated as of 2020-10-14.</p>
<p>The most important components are:</p>
<ul class="simple">
<li>the <code class="docutils literal notranslate"><span class="pre">LedgerView</span></code>, which provides a local view of the Ledger</li>
<li>the <code class="docutils literal notranslate"><span class="pre">Bot</span></code>, which provides utility methods to assemble automation logic for the Ledger</li>
</ul>
<p class="last">Can be found in the java package <code class="docutils literal notranslate"><span class="pre">com.daml.ledger.rxjava.components</span></code>.</p>
</dd>
</dl>
</li>
</ul>
<div class="section" id="code-generation">
<h3>Code generation<a class="headerlink" href="#code-generation" title="Permalink to this headline">¶</a></h3>
<p>When writing applications for the ledger in Java, you want to work with a representation of Daml templates and data types in Java that closely resemble the original Daml code while still being as true to the native types in Java as possible.</p>
<p>To achieve this, you can use Daml to Java code generator (“Java codegen”) to generate Java types based on a Daml model. You can then use these types in your Java code when reading information from and sending data to the ledger.</p>
<p>For more information on Java code generation, see <a class="reference internal" href="codegen.html"><span class="doc">Generate Java code from Daml</span></a>.</p>
</div>
<div class="section" id="connecting-to-the-ledger-ledgerclient">
<h3>Connecting to the ledger: LedgerClient<a class="headerlink" href="#connecting-to-the-ledger-ledgerclient" title="Permalink to this headline">¶</a></h3>
<p>Connections to the ledger are made by creating instance of classes that implement the interface <code class="docutils literal notranslate"><span class="pre">LedgerClient</span></code>. The class <code class="docutils literal notranslate"><span class="pre">DamlLedgerClient</span></code> implements this interface, and is used to connect to a Daml ledger.</p>
<p>This class provides access to the ledgerId, and all clients that give access to the various ledger services, such as the active contract set, the transaction service, the time service, etc. This is described <a class="reference internal" href="#ledger-api-java-binding-connecting"><span class="std std-ref">below</span></a>. Consult the <a class="reference external" href="javadocs/com/daml/ledger/rxjava/DamlLedgerClient.html">JavaDoc for DamlLedgerClient</a> for full details.</p>
</div>
</div>
<div class="section" id="reference-documentation">
<h2>Reference documentation<a class="headerlink" href="#reference-documentation" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="javadocs/index.html">Click here for the JavaDoc reference documentation</a>.</p>
</div>
<div class="section" id="getting-started">
<h2>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>The Java bindings library can be added to a <a class="reference external" href="https://maven.apache.org/">Maven</a> project.</p>
<div class="section" id="set-up-a-maven-project">
<span id="bindings-java-setup-maven"></span><h3>Set up a Maven project<a class="headerlink" href="#set-up-a-maven-project" title="Permalink to this headline">¶</a></h3>
<p>To use the Java bindings library, add the following dependencies to your project’s <code class="docutils literal notranslate"><span class="pre">pom.xml</span></code>:</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;dependencies&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>com.daml.ledger<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>bindings-rxjava<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>x.y.z<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span>
</pre></div>
</div>
<p>Replace <code class="docutils literal notranslate"><span class="pre">x.y.z</span></code> for both dependencies with the version that you want to use. You can find the available versions by checking
the <a class="reference external" href="https://search.maven.org/artifact/com.daml/bindings-java">Maven Central Repository</a>.</p>
<p>You can also take a look at the <code class="docutils literal notranslate"><span class="pre">pom.xml</span></code> file from the <a class="reference internal" href="quickstart.html#quickstart"><span class="std std-ref">quickstart project</span></a>.</p>
</div>
<div class="section" id="connecting-to-the-ledger">
<span id="ledger-api-java-binding-connecting"></span><h3>Connecting to the ledger<a class="headerlink" href="#connecting-to-the-ledger" title="Permalink to this headline">¶</a></h3>
<p>Before any ledger services can be accessed, a connection to the ledger must be established. This is done by creating a instance of a <code class="docutils literal notranslate"><span class="pre">DamlLedgerClient</span></code> using one of the factory methods <code class="docutils literal notranslate"><span class="pre">DamlLedgerClient.forLedgerIdAndHost</span></code> and <code class="docutils literal notranslate"><span class="pre">DamlLedgerClient.forHostWithLedgerIdDiscovery</span></code>. This instance can then be used to access service clients directly, or passed to a call to <code class="docutils literal notranslate"><span class="pre">Bot.wire</span></code> to connect a <code class="docutils literal notranslate"><span class="pre">Bot</span></code> instance to the ledger.</p>
</div>
<div class="section" id="authorizing">
<span id="ledger-api-java-bindings-authorization"></span><h3>Authorizing<a class="headerlink" href="#authorizing" title="Permalink to this headline">¶</a></h3>
<p>Some ledgers will require you to send an access token along with each request.</p>
<p>To learn more about authorization, read the <a class="reference internal" href="../authorization.html"><span class="doc">Authorization</span></a> overview.</p>
<p>To use the same token for all Ledger API requests, the <code class="docutils literal notranslate"><span class="pre">DamlLedgerClient</span></code> builders expose a <code class="docutils literal notranslate"><span class="pre">withAccessToken</span></code> method. This will allow you to not pass a token explicitly for every call.</p>
<p>If your application is long-lived and your tokens are bound to expire, you can reload the necessary token when needed and pass it explicitly for every call. Every client method has an overload that allows a token to be passed, as in the following example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">transactionClient</span><span class="p">.</span><span class="na">getLedgerEnd</span><span class="p">();</span> <span class="c1">// Uses the token specified when constructing the client</span>
<span class="n">transactionClient</span><span class="p">.</span><span class="na">getLedgerEnd</span><span class="p">(</span><span class="n">accessToken</span><span class="p">);</span> <span class="c1">// Override the token for this call exclusively</span>
</pre></div>
</div>
<p>If you’re communicating with a ledger that verifies authorization it’s very important to secure the communication channel to prevent your tokens to be exposed to man-in-the-middle attacks. The next chapter describes how to enable TLS.</p>
</div>
<div class="section" id="connecting-securely">
<span id="ledger-api-java-binding-connecting-securely"></span><h3>Connecting securely<a class="headerlink" href="#connecting-securely" title="Permalink to this headline">¶</a></h3>
<p>The Java bindings library lets you connect to a Daml Ledger via a secure connection. The builders created by
<code class="docutils literal notranslate"><span class="pre">DamlLedgerClient.newBuilder</span></code> default to a plaintext connection, but you can invoke <code class="docutils literal notranslate"><span class="pre">withSslContext</span></code> to pass an <code class="docutils literal notranslate"><span class="pre">SslContext</span></code>.
Using the default plaintext connection is useful only when connecting to a locally running Sandbox for development purposes.</p>
<p>Secure connections to a Daml Ledger must be configured to use client authentication certificates, which can be provided by a Ledger Operator.</p>
<p>For information on how to set up an <code class="docutils literal notranslate"><span class="pre">SslContext</span></code> with the provided certificates for client authentication, please consult the gRPC documentation on
<a class="reference external" href="https://github.com/grpc/grpc-java/blob/master/SECURITY.md#tls-with-openssl">TLS with OpenSSL</a> as well as the
<a class="reference external" href="https://github.com/grpc/grpc-java/blob/70b1b1696a258ffe042c7124217e3a7894821444/examples/src/main/java/io/grpc/examples/helloworldtls/HelloWorldClientTls.java#L46-L57">HelloWorldClientTls</a> example of the <code class="docutils literal notranslate"><span class="pre">grpc-java</span></code> project.</p>
</div>
<div class="section" id="advanced-connection-settings">
<h3>Advanced connection settings<a class="headerlink" href="#advanced-connection-settings" title="Permalink to this headline">¶</a></h3>
<p>Sometimes the default settings for gRPC connections/channels are not suitable for a given situation. These use cases are supported by creating a custom <a class="reference external" href="https://grpc.github.io/grpc-java/javadoc/io/grpc/netty/NettyChannelBuilder.html">NettyChannelBuilder</a> object and passing the it to the <code class="docutils literal notranslate"><span class="pre">newBuilder</span></code> static method defined over <a class="reference external" href="javadocs/com/daml/ledger/rxjava/DamlLedgerClient.html">DamlLedgerClient</a>.</p>
</div>
<div class="section" id="reactive-components">
<h3>Reactive Components<a class="headerlink" href="#reactive-components" title="Permalink to this headline">¶</a></h3>
<p>The Reactive Components are deprecated as of 2020-10-14.</p>
<div class="section" id="accessing-data-on-the-ledger-ledgerview">
<h4>Accessing data on the ledger: LedgerView<a class="headerlink" href="#accessing-data-on-the-ledger-ledgerview" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">LedgerView</span></code> of an application is the “copy” of the ledger that the application has locally. You can query it to obtain the contracts that are active on the Ledger and not pending.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>A contract is <em>active</em> if it exists in the Ledger and has not yet been archived.</li>
<li>A contract is <em>pending</em> if the application has sent a consuming command to the Ledger and has yet
to receive an completion for the command (that is, if the command has succeeded or not).</li>
</ul>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">LedgerView</span></code> is updated every time:</p>
<ul class="simple">
<li>a new event is received from the Ledger</li>
<li>new commands are sent to the Ledger</li>
<li>a command has failed to be processed</li>
</ul>
<p>For instance, if an incoming transaction is received with a create event for a contract that is relevant
for the application, the application <code class="docutils literal notranslate"><span class="pre">LedgerView</span></code> is updated to contain that contract too.</p>
</div>
<div class="section" id="writing-automations-bot">
<h4>Writing automations: Bot<a class="headerlink" href="#writing-automations-bot" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">Bot</span></code> is an abstraction used to write automation for a Daml Ledger. It is conceptually
defined by two aspects:</p>
<ul class="simple">
<li>the <code class="docutils literal notranslate"><span class="pre">LedgerView</span></code></li>
<li>the logic that produces commands, given a <code class="docutils literal notranslate"><span class="pre">LedgerView</span></code></li>
</ul>
<p>When the <code class="docutils literal notranslate"><span class="pre">LedgerView</span></code> is updated, to see if the bot has new commands to submit based on the
updated view, the logic of the bot is run.</p>
<p>The logic of the bot is a Java function from the bot’s <code class="docutils literal notranslate"><span class="pre">LedgerView</span></code> to a <code class="docutils literal notranslate"><span class="pre">Flowable&lt;CommandsAndPendingSet&gt;</span></code>.
Each <code class="docutils literal notranslate"><span class="pre">CommandsAndPendingSet</span></code> contains:</p>
<ul class="simple">
<li>the commands to send to the Ledger</li>
<li>the set of contractIds that should be considered pending while the command is in-flight
(that is, sent by the client but not yet processed by the Ledger)</li>
</ul>
<p>You can wire a <code class="docutils literal notranslate"><span class="pre">Bot</span></code> to a <code class="docutils literal notranslate"><span class="pre">LedgerClient</span></code> implementation using <code class="docutils literal notranslate"><span class="pre">Bot.wire</span></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Bot</span><span class="p">.</span><span class="na">wire</span><span class="p">(</span><span class="n">String</span> <span class="n">applicationId</span><span class="p">,</span>
         <span class="n">LedgerClient</span> <span class="n">ledgerClient</span><span class="p">,</span>
         <span class="n">TransactionFilter</span> <span class="n">transactionFilter</span><span class="p">,</span>
         <span class="n">Function</span><span class="o">&lt;</span><span class="n">LedgerViewFlowable</span><span class="p">.</span><span class="na">LedgerView</span><span class="o">&lt;</span><span class="n">R</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">Flowable</span><span class="o">&lt;</span><span class="n">CommandsAndPendingSet</span><span class="o">&gt;&gt;</span> <span class="n">bot</span><span class="p">,</span>
         <span class="n">Function</span><span class="o">&lt;</span><span class="n">CreatedContract</span><span class="p">,</span> <span class="n">R</span><span class="o">&gt;</span> <span class="n">transform</span><span class="p">)</span>
</pre></div>
</div>
<p>In the above:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt><code class="docutils literal notranslate"><span class="pre">applicationId</span></code></dt>
<dd>The id used by the Ledger to identify all the queries from the same application.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal notranslate"><span class="pre">ledgerClient</span></code></dt>
<dd>The connection to the Ledger.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal notranslate"><span class="pre">transactionFilter</span></code></dt>
<dd>The server-side filter to the incoming transactions. Used to reduce the traffic between
Ledger and application and make an application more efficient.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal notranslate"><span class="pre">bot</span></code></dt>
<dd>The logic of the application,</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal notranslate"><span class="pre">transform</span></code></dt>
<dd>The function that, given a new contract, returns which information for
that contracts are useful for the application. Can be used to reduce space used
by discarding all the info not required by the application. The input to the function
contains the <code class="docutils literal notranslate"><span class="pre">templateId</span></code>, the arguments of the contract created and the context of
the created contract. The context contains the <code class="docutils literal notranslate"><span class="pre">workflowId</span></code>.</dd>
</dl>
</li>
</ul>
</div>
</div>
</div>
<div class="section" id="example-project">
<h2>Example project<a class="headerlink" href="#example-project" title="Permalink to this headline">¶</a></h2>
<p>Example projects using the Java bindings are available on <a class="reference external" href="https://github.com/digital-asset/ex-java-bindings">GitHub</a>. <a class="reference internal" href="example.html"><span class="doc">Read more about them here</span></a>.</p>
</div>
</div>


              
            </div>
            
            
              <!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../daml-lf-translation.html" class="da-btn da-btn-label btn-prev" title="How Daml types are translated to Daml-LF" accesskey="p" rel="prev">Previous</a>
      
      
        <a href="codegen.html" class="da-btn da-btn-label btn-next" title="Generate Java code from Daml" accesskey="n" rel="next">Next</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. Any unauthorized use, duplication or distribution is strictly prohibited. &#34;Digital Asset&#34; and &#34;Daml&#34; are Registered in the U.S. Patent and Trademark Office.

    </p>
  </div> 

</footer>
            
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->





  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.Navigation.enable(true);
      });
  </script>


  
    
  
  <div id="inpageContent"></div>
  

</body>
</html>