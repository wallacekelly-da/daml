<!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>How Daml types are translated to Daml-LF &mdash; Daml SDK __VERSION__ documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
  
  <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
  <script type="text/javascript" src="../_static/jquery.js"></script>
  <script type="text/javascript" src="../_static/underscore.js"></script>
  <script type="text/javascript" src="../_static/doctools.js"></script>
  <script type="text/javascript" src="../_static/language_data.js"></script>
  <script type="text/javascript" src="../_static/clipboard.min.js"></script>
  <script type="text/javascript" src="../_static/copybutton.js"></script>
  
  <script type="text/javascript" src="../_static/js/theme.js"></script>

  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="index" title="Index" href="../genindex.html" />
  <link rel="search" title="Search" href="../search.html" />
  <link rel="next" title="Java bindings" href="bindings-java/index.html" />
  <link rel="prev" title="How Daml types are translated to protobuf" href="grpc/daml-to-ledger-api.html" /> 

  
  <link rel="icon" type="image/svg+xml"  href="../_static/images/daml-logo-mark-light.svg">
  <link rel="alternate icon" href="../_static/images/daml-favicon-1.ico">

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-MSWJMNX');</script>
  <!-- End Google Tag Manager -->

  
  <!-- Mopinion Pastea.se  start --><script type="text/javascript">(function(){var id="4s6vwov7ad6qyxhq8iwbyhocrsn2nm36k25";var js=document.createElement("script");js.setAttribute("type","text/javascript");js.setAttribute("src","//deploy.mopinion.com/js/pastease.js");js.async=true;document.getElementsByTagName("head")[0].appendChild(js);var t=setInterval(function(){try{new Pastease.load(id);clearInterval(t)}catch(e){}},50)})();</script><!-- Mopinion Pastea.se end -->
</head>

<body class="wy-body-for-nav">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MSWJMNX"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-nav-side-shadow"></div>
      <div class="wy-side-scroll">

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
          
          
          
          
          
          <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Daml Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/installation.html">Installing the SDK</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/path-variables.html">Setting JAVA_HOME and PATH variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/manual-download.html">Manually installing the SDK</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/index.html">Building Your App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/app-architecture.html">App Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/first-feature.html">Your First Feature</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.daml.com/cheat-sheet">Cheat Sheet</a></li>
</ul>
<p class="caption"><span class="caption-text">Writing Daml</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../daml/intro/0_Intro.html">An introduction to Daml</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../daml/intro/1_Token.html">1 Basic contracts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/intro/2_DamlScript.html">2 Testing templates using Daml Script</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/intro/3_Data.html">3 Data types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/intro/4_Transformations.html">4 Transforming data using choices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/intro/5_Restrictions.html">5 Adding constraints to a contract</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/intro/6_Parties.html">6 Parties and authority</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/intro/7_Composing.html">7 Composing choices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/intro/8_Exceptions.html">8 Exception Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/intro/9_Dependencies.html">9 Working with Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/intro/10_Functional101.html">10 Functional Programming 101</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/intro/11_StdLib.html">11 Intro to the Daml Standard Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/intro/12_Testing.html">12 Testing Daml Contracts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../daml/reference/index.html">Language reference docs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../daml/reference/structure.html">Overview: template structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/reference/templates.html">Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/reference/choices.html">Choices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/reference/updates.html">Updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/reference/data-types.html">Data types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/reference/working-with.html">Built-in functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/reference/expressions.html">Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/reference/functions.html">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/reference/scenarios.html">Scenarios</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/reference/file-structure.html">File structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/reference/packages.html">Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/reference/contract-keys.html">Contract keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/reference/exceptions.html">Exceptions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../daml/troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../daml/patterns.html">Good design patterns</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../daml/patterns/initaccept.html">Initiate and Accept</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/patterns/multiparty-agreement.html">Multiple party agreement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/patterns/delegation.html">Delegation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/patterns/authorization.html">Authorization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml/patterns/locking.html">Locking</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../daml/patterns/locking/locking-by-archiving.html">Locking by archiving</a></li>
<li class="toctree-l3"><a class="reference internal" href="../daml/patterns/locking/locking-by-state.html">Locking by state</a></li>
<li class="toctree-l3"><a class="reference internal" href="../daml/patterns/locking/locking-by-safekeeping.html">Locking by safekeeping</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../daml/patterns/legends.html">Diagram legends</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Building applications</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="app-arch.html">Application architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="bindings-ts/index.html">JavaScript Client Libraries</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bindings-ts/daml2js.html">JavaScript Code Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="bindings-ts/daml-react.html">&#64;daml/react</a></li>
<li class="toctree-l2"><a class="reference internal" href="bindings-ts/daml-ledger.html">&#64;daml/ledger</a></li>
<li class="toctree-l2"><a class="reference internal" href="bindings-ts/daml-types.html">&#64;daml/types</a></li>
<li class="toctree-l2"><a class="reference internal" href="bindings-ts/testing.html">Testing Your Web App</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../json-api/index.html">HTTP JSON API Service</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../json-api/lf-value-specification.html">Daml-LF JSON Encoding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../json-api/search-query-language.html">Query language</a></li>
<li class="toctree-l2"><a class="reference internal" href="../json-api/production-setup.html">Production Setup</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../daml-script/index.html">Daml Script</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../daml-repl/index.html">Daml REPL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade/index.html">Upgrading and Extending Daml applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/extend.html">Extending Daml applications</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/upgrade.html">Upgrading Daml applications</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/automation.html">Automating the Upgrade Process</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="authorization.html">Authorization</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="ledger-api.html">The Ledger API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="services.html">The Ledger API services</a></li>
<li class="toctree-l2"><a class="reference internal" href="grpc/index.html">gRPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="grpc/daml-to-ledger-api.html">How Daml types are translated to protobuf</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">How Daml types are translated to Daml-LF</a></li>
<li class="toctree-l2"><a class="reference internal" href="bindings-java/index.html">Java bindings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="bindings-java/codegen.html">Generate Java code from Daml</a></li>
<li class="toctree-l3"><a class="reference internal" href="bindings-java/example.html">Ping Pong Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="bindings-java/quickstart.html">Iou Quickstart Tutorial</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bindings-scala/index.html">Scala bindings</a></li>
<li class="toctree-l2"><a class="reference internal" href="bindings-js.html">Node.js bindings</a></li>
<li class="toctree-l2"><a class="reference internal" href="bindings-x-lang/index.html">Creating your own bindings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../triggers/index.html">Daml Triggers - Off-Ledger Automation in Daml</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tools/trigger-service/index.html">Trigger Service</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tools/trigger-service/authorization.html">Authorization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tools/trigger-service/auth0_example.html">Auth0 Example Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tools/auth-middleware/index.html">Auth Middleware</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tools/auth-middleware/oauth2.html">OAuth 2.0 Auth Middleware</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../error-codes/self-service/index.html">Self-Service Error Codes (Experimental)</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../error-codes/self-service/index.html#self-service-error-codes-migration-guide">Self-Service Error Codes Migration Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Deploying to Daml ledgers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../deploy/index.html">Overview of Daml ledgers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deploy/generic_ledger.html">Deploying to a generic Daml ledger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deploy/ledger-topologies.html">Daml Ledger Topologies</a></li>
</ul>
<p class="caption"><span class="caption-text">Operating Daml</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ops/index.html">Daml Participant pruning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ops/connect/index.html">Operating Daml Connect</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../ops/connect/helm.html">Connect Helm Chart</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ops/connect/auth0.html">Setting Up Auth0</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Developer Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tools/assistant.html">Daml Assistant (<code class="docutils literal notranslate"><span class="pre">daml</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../daml/daml-studio.html">Daml Studio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/sandbox.html">Daml Sandbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/navigator/index.html">Navigator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/codegen.html">Daml codegen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/profiler.html">Daml Profiler</a></li>
</ul>
<p class="caption"><span class="caption-text">Background concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts/glossary.html">Glossary of concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/ledger-model/index.html">Daml Ledger Model</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../concepts/ledger-model/ledger-structure.html">Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/ledger-model/ledger-integrity.html">Integrity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/ledger-model/ledger-privacy.html">Privacy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/ledger-model/ledger-daml.html">Daml: Defining Contract Models Compactly</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/ledger-model/ledger-exceptions.html">Exceptions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/identity-and-package-management.html">Identity and Package Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/time.html">Time</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/local-ledger.html">Causality and Local Ledgers</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://daml.com/examples">Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Early Access Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tools/extractor.html">Extractor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/export/index.html">Ledger Export</a></li>
<li class="toctree-l1"><a class="reference internal" href="../daml-integration-kit/index.html">Daml Integration Kit</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tools/ledger-api-test-tool/index.html">Ledger API Test Tool</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tools/visual.html">Visualizing Daml Contracts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/interoperability.html">Ledger Interoperability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/non-repudiation.html">Non-repudiation</a></li>
</ul>
<p class="caption"><span class="caption-text">Daml Ecosystem</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../support/overview.html">Daml Ecosystem Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../support/status-definitions.html">Status Definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../support/component-statuses.html">Feature and Component Statuses</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../support/releases.html">Releases and Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support/compatibility.html">Portability, Compatibility, and Support Durations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support/support.html">Getting Help</a></li>
</ul>

          
          
          
          <div class="pdf-download"><a href="../_downloads/DigitalAssetSDK.pdf" download>Download as PDF</a></div>
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <div class="topbar fixed">
        
        <nav class="wy-nav-top" aria-label="top navigation">
          
          <i data-toggle="wy-nav-top" class="wy-nav-top-toggle"></i>
          
        </nav>
        <!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<div class="navbar">
    <h1><img src="../_static/images/DAML_Logo_Blue.svg"></h1>
    <div class="navbar-menu">
        <div class="da-menu-item da-menu-depth-1" role="menu">
            <a href="https://www.daml.com/" role="menuitem" class="da-menu-link">Developers</a>
        </div>
        <div class="da-menu-item da-menu-depth-1" role="menu">
            <a href="https://www.digitalasset.com/products" role="menuitem" class="da-menu-link">Products</a>
        </div>
        <div class="da-menu-item da-menu-depth-1" role="menu">
            <a href="https://www.digitalasset.com" role="menuitem" class="da-menu-link">Company</a>
        </div>
    </div>
</div>

        <div class="version ">
          <span class="hide-mobile">Version&nbsp;</span><span class="version_switcher_placeholder"></span>
          
        </div>


        <!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->
<div class="search-inline">
    <div id="rtd-search-inline-form" class="wy-form">
        <input type="text" class="search-inline-input" placeholder="Search" name="q">
        <img src="../_static/images/Search.svg" class="search-inline-img"/>
    </div>
    <div class="search-alert">
        Please enter at least 3 letters.
    </div>
    <div id="search-inline-results" class="search-inline-results">
        
    </div>
</div>
          <!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<div class="content-menu collapsed">
    <span class="content-menu-title">In This Section</span>
    <span class="content-menu-expand"></span>
    <div class="content-menu-wrapper">
        
        <!-- Local TOC -->
        <div class="content-menu-toc"><ul>
<li><a class="reference internal" href="#">How Daml types are translated to Daml-LF</a><ul>
<li><a class="reference internal" href="#primitive-types">Primitive types</a></li>
<li><a class="reference internal" href="#tuple-types">Tuple types</a></li>
<li><a class="reference internal" href="#data-types">Data types</a><ul>
<li><a class="reference internal" href="#record-declarations">Record declarations</a></li>
<li><a class="reference internal" href="#variant-declarations">Variant declarations</a></li>
<li><a class="reference internal" href="#enum-declarations">Enum declarations</a></li>
<li><a class="reference internal" href="#banned-declarations">Banned declarations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#type-synonyms">Type synonyms</a></li>
<li><a class="reference internal" href="#template-types">Template types</a><ul>
<li><a class="reference internal" href="#template-data-types">Template data types</a></li>
<li><a class="reference internal" href="#choice-data-types">Choice data types</a></li>
</ul>
</li>
<li><a class="reference internal" href="#names-with-special-characters">Names with special characters</a></li>
</ul>
</li>
</ul>
</div>
        
    </div>
</div>
        

      </div>
      <div class="wy-nav-content">
        
        <div class="rst-content">
          
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div itemprop="articleBody">
                
  <div class="section" id="how-daml-types-are-translated-to-daml-lf">
<h1>How Daml types are translated to Daml-LF<a class="headerlink" href="#how-daml-types-are-translated-to-daml-lf" title="Permalink to this headline">¶</a></h1>
<p>This page shows how types in Daml are translated into Daml-LF. It should help you understand and predict the generated client interfaces, which is useful when you’re building a Daml-based application that uses the Ledger API or client bindings in other languages.</p>
<p>For an introduction to Daml-LF, see <a class="reference internal" href="ledger-api.html#daml-lf-intro"><span class="std std-ref">Daml-LF</span></a>.</p>
<div class="section" id="primitive-types">
<h2>Primitive types<a class="headerlink" href="#primitive-types" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../daml/reference/data-types.html#daml-ref-built-in-types"><span class="std std-ref">Built-in data types</span></a> in Daml have straightforward mappings to Daml-LF.</p>
<p>This section only covers the serializable types, as these are what client applications can interact with via the generated Daml-LF. (Serializable types are ones whose values can be written in a text or binary format. So not function types, <code class="docutils literal notranslate"><span class="pre">Update</span></code> and <code class="docutils literal notranslate"><span class="pre">Scenario</span></code> types, as well as any types built up from those.)</p>
<p>Most built-in types have the same name in Daml-LF as in Daml. These are the exact mappings:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Daml primitive type</th>
<th class="head">Daml-LF primitive type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">Int</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Int64</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">Time</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Timestamp</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">()</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Unit</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">[]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">List</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">Decimal</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Decimal</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">Text</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Text</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">Date</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Date</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">Party</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Party</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">Optional</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Optional</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ContractId</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">ContractId</span></code></td>
</tr>
</tbody>
</table>
<p>Be aware that only the Daml primitive types exported by the <span class="xref std std-ref">Prelude</span> module map to the Daml-LF primitive types above. That means that, if you define your own type named <code class="docutils literal notranslate"><span class="pre">Party</span></code>, it will not translate to the Daml-LF primitive <code class="docutils literal notranslate"><span class="pre">Party</span></code>.</p>
</div>
<div class="section" id="tuple-types">
<h2>Tuple types<a class="headerlink" href="#tuple-types" title="Permalink to this headline">¶</a></h2>
<p>Daml tuple type constructors take types <code class="docutils literal notranslate"><span class="pre">T1,</span> <span class="pre">T2,</span> <span class="pre">…,</span> <span class="pre">TN</span></code> to the type <code class="docutils literal notranslate"><span class="pre">(T1,</span> <span class="pre">T2,</span> <span class="pre">…,</span> <span class="pre">TN)</span></code>. These are exposed in the Daml surface language through the <span class="xref std std-ref">Prelude</span> module.</p>
<p>The equivalent Daml-LF type constructors are <code class="docutils literal notranslate"><span class="pre">daml-prim:DA.Types:TupleN</span></code>, for each particular N (where 2 &lt;= N &lt;= 20). This qualified name refers to the package name (<code class="docutils literal notranslate"><span class="pre">ghc-prim</span></code>) and the module name (<code class="docutils literal notranslate"><span class="pre">GHC.Tuple</span></code>).</p>
<p>For example: the Daml pair type <code class="docutils literal notranslate"><span class="pre">(Int,</span> <span class="pre">Text)</span></code> is translated to <code class="docutils literal notranslate"><span class="pre">daml-prim:DA.Types:Tuple2</span> <span class="pre">Int64</span> <span class="pre">Text</span></code>.</p>
</div>
<div class="section" id="data-types">
<h2>Data types<a class="headerlink" href="#data-types" title="Permalink to this headline">¶</a></h2>
<p>Daml-LF has three kinds of data declarations:</p>
<ul class="simple">
<li><strong>Record</strong> types, which define a collection of data</li>
<li><strong>Variant</strong> or <strong>sum</strong> types, which define a number of alternatives</li>
<li><strong>Enum</strong>, which defines simplified <strong>sum</strong> types without type parameters nor argument.</li>
</ul>
<p><a class="reference internal" href="../daml/reference/data-types.html#daml-ref-data-constructors"><span class="std std-ref">Data type declarations in Daml</span></a> (starting with the <code class="docutils literal notranslate"><span class="pre">data</span></code> keyword) are translated to record, variant or enum types. It’s sometimes not obvious what they will be translated to, so this section lists many examples of data types in Daml and their translations in Daml-LF.</p>
<div class="section" id="record-declarations">
<h3>Record declarations<a class="headerlink" href="#record-declarations" title="Permalink to this headline">¶</a></h3>
<p>This section uses the syntax for Daml <a class="reference internal" href="../daml/reference/data-types.html#daml-ref-record-types"><span class="std std-ref">records</span></a> with curly braces.</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Daml declaration</th>
<th class="head">Daml-LF translation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Foo</span> <span class="pre">{</span> <span class="pre">foo1:</span> <span class="pre">Int;</span> <span class="pre">foo2:</span> <span class="pre">Text</span> <span class="pre">}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">record</span> <span class="pre">Foo</span> <span class="pre">↦</span> <span class="pre">{</span> <span class="pre">foo1:</span> <span class="pre">Int64;</span> <span class="pre">foo2:</span> <span class="pre">Text</span> <span class="pre">}</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Bar</span> <span class="pre">{</span> <span class="pre">bar1:</span> <span class="pre">Int;</span> <span class="pre">bar2:</span> <span class="pre">Text</span> <span class="pre">}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">record</span> <span class="pre">Foo</span> <span class="pre">↦</span> <span class="pre">{</span> <span class="pre">bar1:</span> <span class="pre">Int64;</span> <span class="pre">bar2:</span> <span class="pre">Text</span> <span class="pre">}</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Foo</span> <span class="pre">{</span> <span class="pre">foo:</span> <span class="pre">Int</span> <span class="pre">}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">record</span> <span class="pre">Foo</span> <span class="pre">↦</span> <span class="pre">{</span> <span class="pre">foo:</span> <span class="pre">Int64</span> <span class="pre">}</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Bar</span> <span class="pre">{</span> <span class="pre">foo:</span> <span class="pre">Int</span> <span class="pre">}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">record</span> <span class="pre">Foo</span> <span class="pre">↦</span> <span class="pre">{</span> <span class="pre">foo:</span> <span class="pre">Int64</span> <span class="pre">}</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Foo</span> <span class="pre">{}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">record</span> <span class="pre">Foo</span> <span class="pre">↦</span> <span class="pre">{}</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Bar</span> <span class="pre">{}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">record</span> <span class="pre">Foo</span> <span class="pre">↦</span> <span class="pre">{}</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="variant-declarations">
<h3>Variant declarations<a class="headerlink" href="#variant-declarations" title="Permalink to this headline">¶</a></h3>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Daml declaration</th>
<th class="head">Daml-LF translation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Bar</span> <span class="pre">Int</span> <span class="pre">|</span> <span class="pre">Baz</span> <span class="pre">Text</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">variant</span> <span class="pre">Foo</span> <span class="pre">↦</span> <span class="pre">Bar</span> <span class="pre">Int64</span> <span class="pre">|</span> <span class="pre">Baz</span> <span class="pre">Text</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">a</span> <span class="pre">=</span> <span class="pre">Bar</span> <span class="pre">a</span> <span class="pre">|</span> <span class="pre">Baz</span> <span class="pre">Text</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">variant</span> <span class="pre">Foo</span> <span class="pre">a</span> <span class="pre">↦</span> <span class="pre">Bar</span> <span class="pre">a</span> <span class="pre">|</span> <span class="pre">Baz</span> <span class="pre">Text</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Bar</span> <span class="pre">Unit</span> <span class="pre">|</span> <span class="pre">Baz</span> <span class="pre">Text</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">variant</span> <span class="pre">Foo</span> <span class="pre">↦</span> <span class="pre">Bar</span> <span class="pre">Unit</span> <span class="pre">|</span> <span class="pre">Baz</span> <span class="pre">Text</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Bar</span> <span class="pre">Unit</span> <span class="pre">|</span> <span class="pre">Baz</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">variant</span> <span class="pre">Foo</span> <span class="pre">↦</span> <span class="pre">Bar</span> <span class="pre">Unit</span> <span class="pre">|</span> <span class="pre">Baz</span> <span class="pre">Unit</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">a</span> <span class="pre">=</span> <span class="pre">Bar</span> <span class="pre">|</span> <span class="pre">Baz</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">variant</span> <span class="pre">Foo</span> <span class="pre">a</span> <span class="pre">↦</span> <span class="pre">Bar</span> <span class="pre">Unit</span> <span class="pre">|</span> <span class="pre">Baz</span> <span class="pre">Unit</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Foo</span> <span class="pre">Int</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">variant</span> <span class="pre">Foo</span> <span class="pre">↦</span> <span class="pre">Foo</span> <span class="pre">Int64</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Bar</span> <span class="pre">Int</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">variant</span> <span class="pre">Foo</span> <span class="pre">↦</span> <span class="pre">Bar</span> <span class="pre">Int64</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Foo</span> <span class="pre">()</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">variant</span> <span class="pre">Foo</span> <span class="pre">↦</span> <span class="pre">Foo</span> <span class="pre">Unit</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Bar</span> <span class="pre">()</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">variant</span> <span class="pre">Foo</span> <span class="pre">↦</span> <span class="pre">Bar</span> <span class="pre">Unit</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Bar</span> <span class="pre">{</span> <span class="pre">bar:</span> <span class="pre">Int</span> <span class="pre">}</span> <span class="pre">|</span> <span class="pre">Baz</span> <span class="pre">Text</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">variant</span> <span class="pre">Foo</span> <span class="pre">↦</span> <span class="pre">Bar</span> <span class="pre">Foo.Bar</span> <span class="pre">|</span> <span class="pre">Baz</span> <span class="pre">Text</span></code>, <code class="docutils literal notranslate"><span class="pre">record</span> <span class="pre">Foo.Bar</span> <span class="pre">↦</span> <span class="pre">{</span> <span class="pre">bar:</span> <span class="pre">Int64</span> <span class="pre">}</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Foo</span> <span class="pre">{</span> <span class="pre">foo:</span> <span class="pre">Int</span> <span class="pre">}</span> <span class="pre">|</span> <span class="pre">Baz</span> <span class="pre">Text</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">variant</span> <span class="pre">Foo</span> <span class="pre">↦</span> <span class="pre">Foo</span> <span class="pre">Foo.Foo</span> <span class="pre">|</span> <span class="pre">Baz</span> <span class="pre">Text</span></code>, <code class="docutils literal notranslate"><span class="pre">record</span> <span class="pre">Foo.Foo</span> <span class="pre">↦</span> <span class="pre">{</span> <span class="pre">foo:</span> <span class="pre">Int64</span> <span class="pre">}</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Bar</span> <span class="pre">{</span> <span class="pre">bar1:</span> <span class="pre">Int;</span> <span class="pre">bar2:</span> <span class="pre">Decimal</span> <span class="pre">}</span> <span class="pre">|</span> <span class="pre">Baz</span> <span class="pre">Text</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">variant</span> <span class="pre">Foo</span> <span class="pre">↦</span> <span class="pre">Bar</span> <span class="pre">Foo.Bar</span> <span class="pre">|</span> <span class="pre">Baz</span> <span class="pre">Text</span></code>, <code class="docutils literal notranslate"><span class="pre">record</span> <span class="pre">Foo.Bar</span> <span class="pre">↦</span> <span class="pre">{</span> <span class="pre">bar1:</span> <span class="pre">Int64;</span> <span class="pre">bar2:</span> <span class="pre">Decimal</span> <span class="pre">}</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Bar</span> <span class="pre">{</span> <span class="pre">bar1:</span> <span class="pre">Int;</span> <span class="pre">bar2:</span> <span class="pre">Decimal</span> <span class="pre">}</span> <span class="pre">|</span> <span class="pre">Baz</span> <span class="pre">{</span> <span class="pre">baz1:</span> <span class="pre">Text;</span> <span class="pre">baz2:</span> <span class="pre">Date</span> <span class="pre">}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">↦</span> <span class="pre">Bar</span> <span class="pre">Foo.Bar</span> <span class="pre">|</span> <span class="pre">Baz</span> <span class="pre">Foo.Baz</span></code>, <code class="docutils literal notranslate"><span class="pre">record</span> <span class="pre">Foo.Bar</span> <span class="pre">↦</span> <span class="pre">{</span> <span class="pre">bar1:</span> <span class="pre">Int64;</span> <span class="pre">bar2:</span> <span class="pre">Decimal</span> <span class="pre">}</span></code>, <code class="docutils literal notranslate"><span class="pre">record</span> <span class="pre">Foo.Baz</span> <span class="pre">↦</span> <span class="pre">{</span> <span class="pre">baz1:</span> <span class="pre">Text;</span> <span class="pre">baz2:</span> <span class="pre">Date</span> <span class="pre">}</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="enum-declarations">
<h3>Enum declarations<a class="headerlink" href="#enum-declarations" title="Permalink to this headline">¶</a></h3>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Daml declaration</th>
<th class="head">Daml-LF declaration</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Bar</span> <span class="pre">|</span> <span class="pre">Baz</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">Foo</span> <span class="pre">↦</span> <span class="pre">Bar</span> <span class="pre">|</span> <span class="pre">Baz</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Color</span> <span class="pre">=</span> <span class="pre">Red</span> <span class="pre">|</span> <span class="pre">Green</span> <span class="pre">|</span> <span class="pre">Blue</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">Color</span> <span class="pre">↦</span> <span class="pre">Red</span> <span class="pre">|</span> <span class="pre">Green</span> <span class="pre">|</span> <span class="pre">Blue</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="banned-declarations">
<h3>Banned declarations<a class="headerlink" href="#banned-declarations" title="Permalink to this headline">¶</a></h3>
<p>There are two gotchas to be aware of: things you might expect to be able to do in Daml that you can’t because of Daml-LF.</p>
<p>The first: a single constructor data type must be made unambiguous as to whether it is a record or a variant type. Concretely, the data type declaration <code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Foo</span></code> causes a compile-time error, because it is unclear whether it is declaring a record or a variant type.</p>
<p>To fix this, you must make the distinction explicitly. Write <code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Foo</span> <span class="pre">{}</span></code> to declare a record type with no fields, or <code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Foo</span> <span class="pre">()</span></code> for a variant with a single constructor taking unit argument.</p>
<p>The second gotcha is that a constructor in a data type declaration can have at most one unlabelled argument type. This restriction is so that we can provide a straight-forward encoding of Daml-LF types in a variety of client languages.</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Banned declaration</th>
<th class="head">Workaround</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Foo</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Foo</span> <span class="pre">{}</span></code> to produce <code class="docutils literal notranslate"><span class="pre">record</span> <span class="pre">Foo</span> <span class="pre">↦</span> <span class="pre">{}</span></code> OR <code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Foo</span> <span class="pre">()</span></code> to produce <code class="docutils literal notranslate"><span class="pre">variant</span> <span class="pre">Foo</span> <span class="pre">↦</span> <span class="pre">Foo</span> <span class="pre">Unit</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Bar</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Bar</span> <span class="pre">{}</span> <span class="pre">to</span> <span class="pre">produce</span> <span class="pre">record</span> <span class="pre">Foo</span> <span class="pre">↦</span> <span class="pre">{}</span></code> OR <code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Bar</span> <span class="pre">()</span> <span class="pre">to</span> <span class="pre">produce</span> <span class="pre">variant</span> <span class="pre">Foo</span> <span class="pre">↦</span> <span class="pre">Bar</span> <span class="pre">Unit</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Foo</span> <span class="pre">Int</span> <span class="pre">Text</span></code></td>
<td>Name constructor arguments using a record declaration, for example <code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Foo</span> <span class="pre">{</span> <span class="pre">x:</span> <span class="pre">Int;</span> <span class="pre">y:</span> <span class="pre">Text</span> <span class="pre">}</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Bar</span> <span class="pre">Int</span> <span class="pre">Text</span></code></td>
<td>Name constructor arguments using a record declaration, for example <code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Bar</span> <span class="pre">{</span> <span class="pre">x:</span> <span class="pre">Int;</span> <span class="pre">y:</span> <span class="pre">Text</span> <span class="pre">}</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Bar</span> <span class="pre">|</span> <span class="pre">Baz</span> <span class="pre">Int</span> <span class="pre">Text</span></code></td>
<td>Name arguments to the Baz constructor, for example <code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">Foo</span> <span class="pre">=</span> <span class="pre">Bar</span> <span class="pre">|</span> <span class="pre">Baz</span> <span class="pre">{</span> <span class="pre">x:</span> <span class="pre">Int;</span> <span class="pre">y:</span> <span class="pre">Text</span> <span class="pre">}</span></code></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="type-synonyms">
<h2>Type synonyms<a class="headerlink" href="#type-synonyms" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../daml/reference/data-types.html#daml-ref-type-synonyms"><span class="std std-ref">Type synonyms</span></a> (starting with the <code class="docutils literal notranslate"><span class="pre">type</span></code> keyword) are eliminated during conversion to Daml-LF. The body of the type synonym is inlined for all occurrences of the type synonym name.</p>
<p>For example, consider the following Daml type declarations.</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="kr">type</span> <span class="kt">Username</span> <span class="ow">=</span> <span class="kt">Text</span>
<span class="kr">data</span> <span class="kt">User</span> <span class="ow">=</span> <span class="kt">User</span> <span class="p">{</span> <span class="n">name</span><span class="kt">:</span> <span class="kt">Username</span> <span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">Username</span></code> type is eliminated in the Daml-LF translation, as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>record User ↦ { name: Text }
</pre></div>
</div>
</div>
<div class="section" id="template-types">
<h2>Template types<a class="headerlink" href="#template-types" title="Permalink to this headline">¶</a></h2>
<p>A <a class="reference internal" href="../daml/reference/templates.html#daml-ref-template-name"><span class="std std-ref">template declaration</span></a> in Daml results in one or more data type declarations behind the scenes. These data types, detailed in this section, are not written explicitly in the Daml program but are created by the compiler.</p>
<p>They are translated to Daml-LF using the same rules as for record declarations above.</p>
<p>These declarations are all at the top level of the module in which the template is defined.</p>
<div class="section" id="template-data-types">
<h3>Template data types<a class="headerlink" href="#template-data-types" title="Permalink to this headline">¶</a></h3>
<p>Every contract template defines a record type for the parameters of the contract. For example, the template declaration:</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="kr">template</span> <span class="kt">Iou</span>
  <span class="kr">with</span>
    <span class="n">issuer</span><span class="kt">:</span> <span class="kt">Party</span>
    <span class="n">owner</span><span class="kt">:</span> <span class="kt">Party</span>
    <span class="n">currency</span><span class="kt">:</span> <span class="kt">Text</span>
    <span class="n">amount</span><span class="kt">:</span> <span class="kt">Decimal</span>
  <span class="kr">where</span>
</pre></div>
</div>
<p>results in this record declaration:</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="kr">data</span> <span class="kt">Iou</span> <span class="ow">=</span> <span class="kt">Iou</span> <span class="p">{</span> <span class="n">issuer</span><span class="kt">:</span> <span class="kt">Party</span><span class="p">;</span> <span class="n">owner</span><span class="kt">:</span> <span class="kt">Party</span><span class="p">;</span> <span class="n">currency</span><span class="kt">:</span> <span class="kt">Text</span><span class="p">;</span> <span class="n">amount</span><span class="kt">:</span> <span class="kt">Decimal</span> <span class="p">}</span>
</pre></div>
</div>
<p>This translates to the Daml-LF record declaration:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>record Iou ↦ { issuer: Party; owner: Party; currency: Text; amount: Decimal }
</pre></div>
</div>
</div>
<div class="section" id="choice-data-types">
<h3>Choice data types<a class="headerlink" href="#choice-data-types" title="Permalink to this headline">¶</a></h3>
<p>Every choice within a contract template results in a record type for the parameters of that choice. For example, let’s suppose the earlier <code class="docutils literal notranslate"><span class="pre">Iou</span></code> template has the following choices:</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span>    <span class="kr">controller</span> <span class="n">owner</span> <span class="kr">can</span>
      <span class="kr">nonconsuming</span> <span class="kt">DoNothing:</span> <span class="nb">()</span>
        <span class="kr">do</span>
          <span class="kr">return</span> <span class="nb">()</span>

      <span class="kt">Transfer:</span> <span class="kt">ContractId</span> <span class="kt">Iou</span>
        <span class="kr">with</span> <span class="n">newOwner</span><span class="kt">:</span> <span class="kt">Party</span>
        <span class="kr">do</span>
          <span class="n">updateOwner</span> <span class="n">newOwner</span>
</pre></div>
</div>
<p>This results in these two record types:</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="kr">data</span> <span class="kt">DoNothing</span> <span class="ow">=</span> <span class="kt">DoNothing</span> <span class="p">{}</span>
<span class="kr">data</span> <span class="kt">Transfer</span> <span class="ow">=</span> <span class="kt">Transfer</span> <span class="p">{</span> <span class="n">newOwner</span><span class="kt">:</span> <span class="kt">Party</span> <span class="p">}</span>
</pre></div>
</div>
<p>Whether the choice is consuming or nonconsuming is irrelevant to the data type declaration. The data type is a record even if there are no fields.</p>
<p>These translate to the Daml-LF record declarations:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>record DoNothing ↦ {}
record Transfer ↦ { newOwner: Party }
</pre></div>
</div>
</div>
</div>
<div class="section" id="names-with-special-characters">
<h2>Names with special characters<a class="headerlink" href="#names-with-special-characters" title="Permalink to this headline">¶</a></h2>
<p>All names in Daml—of types, templates, choices, fields, and variant data constructors—are translated to the more restrictive rules of Daml-LF.  ASCII letters, digits, and <code class="docutils literal notranslate"><span class="pre">_</span></code> underscore are unchanged in Daml-LF; all other characters must be mangled in some way, as follows:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">$</span></code> changes to <code class="docutils literal notranslate"><span class="pre">$$</span></code>,</li>
<li>Unicode codepoints less than 65536 translate to <code class="docutils literal notranslate"><span class="pre">$uABCD</span></code>, where <code class="docutils literal notranslate"><span class="pre">ABCD</span></code> are exactly four (zero-padded) hexadecimal digits of the codepoint in question, using only lowercase <code class="docutils literal notranslate"><span class="pre">a-f</span></code>, and</li>
<li>Unicode codepoints greater translate to <code class="docutils literal notranslate"><span class="pre">$UABCD1234</span></code>, where <code class="docutils literal notranslate"><span class="pre">ABCD1234</span></code> are exactly eight (zero-padded) hexadecimal digits of the codepoint in question, with the same <code class="docutils literal notranslate"><span class="pre">a-f</span></code> rule.</li>
</ul>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Daml name</th>
<th class="head">Daml-LF identifier</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">Foo_bar</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Foo_bar</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">baz'</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">baz$u0027</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">:+:</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">$u003a$u002b$u003a</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">naïveté</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">na$u00efvet$u00e9</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">:🙂:</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">$u003a$U0001f642$u003a</span></code></td>
</tr>
</tbody>
</table>
</div>
</div>


              
            </div>
            
            
              <!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="grpc/daml-to-ledger-api.html" class="da-btn da-btn-label btn-prev" title="How Daml types are translated to protobuf" accesskey="p" rel="prev">Previous</a>
      
      
        <a href="bindings-java/index.html" class="da-btn da-btn-label btn-next" title="Java bindings" accesskey="n" rel="next">Next</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. Any unauthorized use, duplication or distribution is strictly prohibited. &#34;Digital Asset&#34; and &#34;Daml&#34; are Registered in the U.S. Patent and Trademark Office.

    </p>
  </div> 

</footer>
            
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->





  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.Navigation.enable(true);
      });
  </script>


  
    
  
  <div id="inpageContent"></div>
  

</body>
</html>